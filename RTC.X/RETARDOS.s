	.include "p30F3013.inc"
	
	.GLOBAL	_RETARDO_50ms
	.GLOBAL	_RETARDO_1S
	
;   @BRIEF: ESTA RUTINA HACE UN RETARDO DE 50ms
_RETARDO_50ms:
	PUSH	W0
	
	MOV	#0x8000,	    W1	    ;W0 = 0
	
CICLO_50ms:
	DEC	W0,		W0  ;W0 = 0 - 1 = -1  0B11111111 11111111 = 055535
	BRA	NZ,		CICLO_50ms
	
	POP	W0
	
	RETURN

;   @BRIEF: ESTA RUTINA HACE UN RETARDO DE 15ms
	
_RETARDO_1S:
	PUSH	W0
	PUSH	W1
	
	MOV	#10,	    W1	    ;W0 = 0

CICLO2_1S:
	CLR	W0		    ;W0 = 0

CICLO1_1S:
	DEC	W0,		W0  ;W0 = 0 - 1 = -1  0B11111111 11111111 = 055535
	BRA	NZ,		CICLO1_1S
	
	DEC	W1,		W1
	BRA	NZ,		CICLO2_1S
	
	POP	W1
	POP	W0
	
	RETURN


